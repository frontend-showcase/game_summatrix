{"mappings":"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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["\n'use strict';\nconst $f5e5effd96d66274$var$rows = 4;\nconst $f5e5effd96d66274$var$columns = 4;\nlet $f5e5effd96d66274$var$gameField = [];\nlet $f5e5effd96d66274$var$score = 0;\nconst $f5e5effd96d66274$var$cellScoreLimit = 2048;\nconst $f5e5effd96d66274$var$startButton = document.querySelector('.start');\nconst $f5e5effd96d66274$var$messageStart = document.querySelector('.message-start');\nconst $f5e5effd96d66274$var$winMessage = document.querySelector('.message-win');\nconst $f5e5effd96d66274$var$loseMessage = document.querySelector('.message-lose');\nconst $f5e5effd96d66274$var$gameScore = document.querySelector('.game-score');\n/* event for start or restart button */ $f5e5effd96d66274$var$startButton.addEventListener('click', ()=>{\n    if ($f5e5effd96d66274$var$startButton.innerHTML === 'Start') {\n        $f5e5effd96d66274$var$messageStart.classList.add('hidden');\n        $f5e5effd96d66274$var$setNewGame();\n    } else {\n        $f5e5effd96d66274$var$resetGameField();\n        $f5e5effd96d66274$var$winMessage.classList.add('hidden');\n        $f5e5effd96d66274$var$loseMessage.classList.add('hidden');\n        $f5e5effd96d66274$var$messageStart.classList.remove('hidden');\n        $f5e5effd96d66274$var$startButton.classList.replace('restart', 'start');\n        $f5e5effd96d66274$var$startButton.innerHTML = 'Start';\n        $f5e5effd96d66274$var$score = 0;\n        $f5e5effd96d66274$var$gameScore.innerText = $f5e5effd96d66274$var$score;\n    }\n});\n/* events for arrow buttons */ document.addEventListener('keyup', (e)=>{\n    if ($f5e5effd96d66274$var$score === 0) {\n        $f5e5effd96d66274$var$startButton.classList.replace('start', 'restart');\n        $f5e5effd96d66274$var$startButton.innerHTML = 'Restart';\n    }\n    if (e.code === 'ArrowLeft') {\n        $f5e5effd96d66274$var$slideLeft();\n        $f5e5effd96d66274$var$newFieldGeneretion();\n    } else if (e.code === 'ArrowRight') {\n        $f5e5effd96d66274$var$slideRight();\n        $f5e5effd96d66274$var$newFieldGeneretion();\n    } else if (e.code === 'ArrowUp') {\n        $f5e5effd96d66274$var$slideUp();\n        $f5e5effd96d66274$var$newFieldGeneretion();\n    } else if (e.code === 'ArrowDown') {\n        $f5e5effd96d66274$var$slideDown();\n        $f5e5effd96d66274$var$newFieldGeneretion();\n    }\n    $f5e5effd96d66274$var$gameScore.innerText = $f5e5effd96d66274$var$score;\n    if (!$f5e5effd96d66274$var$checkPossibleMovVerticaly() && !$f5e5effd96d66274$var$checkPossibleMovHorizontaly() && !$f5e5effd96d66274$var$isEmptyCell()) {\n        $f5e5effd96d66274$var$isLose();\n        // eslint-disable-next-line no-useless-return\n        return;\n    }\n});\n/* events for swipes */ let $f5e5effd96d66274$var$touchStartX = 0;\nlet $f5e5effd96d66274$var$touchStartY = 0;\nlet $f5e5effd96d66274$var$touchEndX = 0;\nlet $f5e5effd96d66274$var$touchEndY = 0;\ndocument.addEventListener('touchstart', (e)=>{\n    $f5e5effd96d66274$var$touchStartX = e.touches[0].clientX;\n    $f5e5effd96d66274$var$touchStartY = e.touches[0].clientY;\n});\ndocument.addEventListener('touchmove', (e)=>{\n    $f5e5effd96d66274$var$touchEndX = e.touches[0].clientX;\n    $f5e5effd96d66274$var$touchEndY = e.touches[0].clientY;\n});\ndocument.addEventListener('touchend', ()=>{\n    const diffX = $f5e5effd96d66274$var$touchEndX - $f5e5effd96d66274$var$touchStartX;\n    const diffY = $f5e5effd96d66274$var$touchEndY - $f5e5effd96d66274$var$touchStartY;\n    if (Math.abs(diffX) > Math.abs(diffY)) {\n        if (diffX > 50) {\n            $f5e5effd96d66274$var$slideRight();\n            $f5e5effd96d66274$var$newFieldGeneretion();\n        } else if (diffX < -50) {\n            $f5e5effd96d66274$var$slideLeft();\n            $f5e5effd96d66274$var$newFieldGeneretion();\n        }\n    } else {\n        if (diffY > 50) {\n            $f5e5effd96d66274$var$slideDown();\n            $f5e5effd96d66274$var$newFieldGeneretion();\n        } else if (diffY < -50) {\n            $f5e5effd96d66274$var$slideUp();\n            $f5e5effd96d66274$var$newFieldGeneretion();\n        }\n    }\n    $f5e5effd96d66274$var$gameScore.innerText = $f5e5effd96d66274$var$score;\n    if (!$f5e5effd96d66274$var$checkPossibleMovVerticaly() && !$f5e5effd96d66274$var$checkPossibleMovHorizontaly() && !$f5e5effd96d66274$var$isEmptyCell()) $f5e5effd96d66274$var$isLose();\n});\n/* set new game */ function $f5e5effd96d66274$var$setNewGame() {\n    $f5e5effd96d66274$var$resetGameField();\n    $f5e5effd96d66274$var$newFieldGeneretion();\n    $f5e5effd96d66274$var$newFieldGeneretion();\n}\n/* new field generation */ function $f5e5effd96d66274$var$newFieldGeneretion() {\n    const r = Math.floor(Math.random() * $f5e5effd96d66274$var$rows);\n    const c = Math.floor(Math.random() * $f5e5effd96d66274$var$columns);\n    if ($f5e5effd96d66274$var$gameField[r][c] === 0) {\n        const newField = document.getElementById(r.toString() + '-' + c.toString());\n        const valueNum = Math.random();\n        if (valueNum < 0.9) newField.innerText = '2';\n        else newField.innerText = '4';\n        $f5e5effd96d66274$var$gameField[r][c] = +newField.innerText;\n        // eslint-disable-next-line no-useless-return\n        return;\n    } else {\n        if (!$f5e5effd96d66274$var$isEmptyCell()) return;\n        $f5e5effd96d66274$var$newFieldGeneretion();\n    }\n}\n/* reset game field */ function $f5e5effd96d66274$var$resetGameField() {\n    $f5e5effd96d66274$var$gameField = [\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            0\n        ]\n    ];\n    const fieldCell = document.querySelectorAll('.field-cell');\n    for (const cell of fieldCell){\n        cell.innerText = '';\n        cell.classList.value = '';\n        cell.classList.add('field-cell');\n    }\n}\n/* directions of moving for game field */ function $f5e5effd96d66274$var$slideUp() {\n    for(let c = 0; c < $f5e5effd96d66274$var$columns; c++){\n        let row = [\n            $f5e5effd96d66274$var$gameField[0][c],\n            $f5e5effd96d66274$var$gameField[1][c],\n            $f5e5effd96d66274$var$gameField[2][c],\n            $f5e5effd96d66274$var$gameField[3][c]\n        ];\n        row = $f5e5effd96d66274$var$shift(row);\n        for(let r = 0; r < $f5e5effd96d66274$var$rows; r++){\n            $f5e5effd96d66274$var$gameField[r][c] = row[r];\n            const cell = document.getElementById(r.toString() + '-' + c.toString());\n            const num = $f5e5effd96d66274$var$gameField[r][c];\n            $f5e5effd96d66274$var$updateCell(cell, num);\n        }\n    }\n}\nfunction $f5e5effd96d66274$var$slideDown() {\n    for(let c = 0; c < $f5e5effd96d66274$var$columns; c++){\n        let row = [\n            $f5e5effd96d66274$var$gameField[0][c],\n            $f5e5effd96d66274$var$gameField[1][c],\n            $f5e5effd96d66274$var$gameField[2][c],\n            $f5e5effd96d66274$var$gameField[3][c]\n        ];\n        row.reverse();\n        row = $f5e5effd96d66274$var$shift(row);\n        row.reverse();\n        for(let r = 0; r < $f5e5effd96d66274$var$rows; r++){\n            $f5e5effd96d66274$var$gameField[r][c] = row[r];\n            const cell = document.getElementById(r.toString() + '-' + c.toString());\n            const num = $f5e5effd96d66274$var$gameField[r][c];\n            $f5e5effd96d66274$var$updateCell(cell, num);\n        }\n    }\n}\nfunction $f5e5effd96d66274$var$slideRight() {\n    for(let r = 0; r < $f5e5effd96d66274$var$rows; r++){\n        let row = $f5e5effd96d66274$var$gameField[r];\n        row.reverse();\n        row = $f5e5effd96d66274$var$shift(row);\n        row.reverse();\n        $f5e5effd96d66274$var$gameField[r] = row;\n        for(let c = 0; c < $f5e5effd96d66274$var$columns; c++){\n            const cell = document.getElementById(r.toString() + '-' + c.toString());\n            const num = $f5e5effd96d66274$var$gameField[r][c];\n            $f5e5effd96d66274$var$updateCell(cell, num);\n        }\n    }\n}\nfunction $f5e5effd96d66274$var$slideLeft() {\n    for(let r = 0; r < $f5e5effd96d66274$var$rows; r++){\n        let row = $f5e5effd96d66274$var$gameField[r];\n        row = $f5e5effd96d66274$var$shift(row);\n        $f5e5effd96d66274$var$gameField[r] = row;\n        for(let c = 0; c < $f5e5effd96d66274$var$columns; c++){\n            const cell = document.getElementById(r.toString() + '-' + c.toString());\n            const num = $f5e5effd96d66274$var$gameField[r][c];\n            $f5e5effd96d66274$var$updateCell(cell, num);\n        }\n    }\n}\n/* moving of game field */ function $f5e5effd96d66274$var$shift(r) {\n    let row = $f5e5effd96d66274$var$filterZero(r);\n    for(let i = 0; i < row.length - 1; i++)if (row[i] === row[i + 1]) {\n        row[i] *= 2;\n        row[i + 1] = 0;\n        $f5e5effd96d66274$var$score += row[i];\n    }\n    row = $f5e5effd96d66274$var$filterZero(row);\n    while(row.length < $f5e5effd96d66274$var$columns)row.push(0);\n    return row;\n}\n/* changes game field after each moving */ function $f5e5effd96d66274$var$updateCell(cell, num) {\n    cell.innerText = '';\n    cell.classList.value = '';\n    cell.classList.add('field-cell');\n    if (num > 0) {\n        cell.innerText = num;\n        if (num < $f5e5effd96d66274$var$cellScoreLimit) cell.classList.add(\"field-cell--\" + +num.toString());\n        else {\n            cell.classList.add('field-cell--2048');\n            $f5e5effd96d66274$var$isWinner();\n        }\n    }\n}\nfunction $f5e5effd96d66274$var$filterZero(row) {\n    return row.filter((r)=>r);\n}\n/* check game field for empty cells */ function $f5e5effd96d66274$var$isEmptyCell() {\n    for(let r = 0; r < $f5e5effd96d66274$var$rows; r++)for(let c = 0; c < $f5e5effd96d66274$var$columns; c++){\n        if ($f5e5effd96d66274$var$gameField[r][c] === 0) return true;\n    }\n    return false;\n}\n/* appear winner message */ function $f5e5effd96d66274$var$isWinner() {\n    $f5e5effd96d66274$var$winMessage.classList.remove('hidden');\n}\n/* appear lose message */ function $f5e5effd96d66274$var$isLose() {\n    $f5e5effd96d66274$var$loseMessage.classList.remove('hidden');\n}\n/* check possible of horizontal moving */ function $f5e5effd96d66274$var$checkPossibleMovHorizontaly() {\n    for(let r = 0; r < $f5e5effd96d66274$var$rows; r++)for(let c = 0; c < $f5e5effd96d66274$var$columns; c++){\n        if ($f5e5effd96d66274$var$gameField[r][c] === $f5e5effd96d66274$var$gameField[r][c + 1]) return true;\n    }\n    return false;\n}\n/* merging of two rows */ function $f5e5effd96d66274$var$isMergingRow(r) {\n    const row = $f5e5effd96d66274$var$filterZero(r);\n    for(let i = 0; i < row.length - 1; i++){\n        if (row[i] === row[i + 1]) return true;\n    }\n    return false;\n}\n/* check possible of vertical moving */ function $f5e5effd96d66274$var$checkPossibleMovVerticaly() {\n    const arr = [];\n    const result = [];\n    for(let c = 0; c < $f5e5effd96d66274$var$columns; c++)arr.push([\n        $f5e5effd96d66274$var$gameField[0][c],\n        $f5e5effd96d66274$var$gameField[1][c],\n        $f5e5effd96d66274$var$gameField[2][c],\n        $f5e5effd96d66274$var$gameField[3][c]\n    ]);\n    arr.forEach((b)=>result.push($f5e5effd96d66274$var$isMergingRow(b)));\n    return result.some((el)=>el);\n}\n\n\n//# sourceMappingURL=game_summatrix.0f55fb36.js.map\n","'use strict';\n\nimport '../styles/main.scss';\n\nconst rows = 4;\nconst columns = 4;\nlet gameField = [];\nlet score = 0;\nconst cellScoreLimit = 2048;\n\nconst startButton = document.querySelector('.start');\nconst messageStart = document.querySelector('.message-start');\nconst winMessage = document.querySelector('.message-win');\nconst loseMessage = document.querySelector('.message-lose');\nconst gameScore = document.querySelector('.game-score');\n\n/* event for start or restart button */\nstartButton.addEventListener('click', () => {\n  if (startButton.innerHTML === 'Start') {\n    messageStart.classList.add('hidden');\n    setNewGame();\n  } else {\n    resetGameField();\n    winMessage.classList.add('hidden');\n    loseMessage.classList.add('hidden');\n    messageStart.classList.remove('hidden');\n    startButton.classList.replace('restart', 'start');\n    startButton.innerHTML = 'Start';\n    score = 0;\n    gameScore.innerText = score;\n  }\n});\n\n/* events for arrow buttons */\ndocument.addEventListener('keyup', (e) => {\n  if (score === 0) {\n    startButton.classList.replace('start', 'restart');\n    startButton.innerHTML = 'Restart';\n  }\n\n  if (e.code === 'ArrowLeft') {\n    slideLeft();\n    newFieldGeneretion();\n  } else if (e.code === 'ArrowRight') {\n    slideRight();\n    newFieldGeneretion();\n  } else if (e.code === 'ArrowUp') {\n    slideUp();\n    newFieldGeneretion();\n  } else if (e.code === 'ArrowDown') {\n    slideDown();\n    newFieldGeneretion();\n  }\n  gameScore.innerText = score;\n\n  if (\n    !checkPossibleMovVerticaly()\n    && !checkPossibleMovHorizontaly()\n    && !isEmptyCell()\n  ) {\n    isLose();\n\n    // eslint-disable-next-line no-useless-return\n    return;\n  }\n});\n\n/* events for swipes */\n\nlet touchStartX = 0;\nlet touchStartY = 0;\nlet touchEndX = 0;\nlet touchEndY = 0;\n\ndocument.addEventListener('touchstart', (e) => {\n  touchStartX = e.touches[0].clientX;\n  touchStartY = e.touches[0].clientY;\n});\n\ndocument.addEventListener('touchmove', (e) => {\n  touchEndX = e.touches[0].clientX;\n  touchEndY = e.touches[0].clientY;\n});\n\ndocument.addEventListener('touchend', () => {\n  const diffX = touchEndX - touchStartX;\n  const diffY = touchEndY - touchStartY;\n\n  if (Math.abs(diffX) > Math.abs(diffY)) {\n    if (diffX > 50) {\n      slideRight();\n      newFieldGeneretion();\n    } else if (diffX < -50) {\n      slideLeft();\n      newFieldGeneretion();\n    }\n  } else {\n    if (diffY > 50) {\n      slideDown();\n      newFieldGeneretion();\n    } else if (diffY < -50) {\n      slideUp();\n      newFieldGeneretion();\n    }\n  }\n\n  gameScore.innerText = score;\n\n  if (\n    !checkPossibleMovVerticaly()\n    && !checkPossibleMovHorizontaly()\n    && !isEmptyCell()\n  ) {\n    isLose();\n  }\n});\n\n/* set new game */\nfunction setNewGame() {\n  resetGameField();\n  newFieldGeneretion();\n  newFieldGeneretion();\n}\n\n/* new field generation */\nfunction newFieldGeneretion() {\n  const r = Math.floor(Math.random() * rows);\n  const c = Math.floor(Math.random() * columns);\n\n  if (gameField[r][c] === 0) {\n    const newField = document.getElementById(r.toString() + '-' + c.toString());\n\n    const valueNum = Math.random();\n\n    if (valueNum < 0.9) {\n      newField.innerText = '2';\n    } else {\n      newField.innerText = '4';\n    }\n    gameField[r][c] = +newField.innerText;\n\n    // eslint-disable-next-line no-useless-return\n    return;\n  } else {\n    if (!isEmptyCell()) {\n      return;\n    }\n\n    newFieldGeneretion();\n  }\n}\n\n/* reset game field */\nfunction resetGameField() {\n  gameField = [\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n  ];\n\n  const fieldCell = document.querySelectorAll('.field-cell');\n\n  for (const cell of fieldCell) {\n    cell.innerText = '';\n    cell.classList.value = '';\n    cell.classList.add('field-cell');\n  }\n}\n\n/* directions of moving for game field */\nfunction slideUp() {\n  for (let c = 0; c < columns; c++) {\n    let row = [\n      gameField[0][c],\n      gameField[1][c],\n      gameField[2][c],\n      gameField[3][c],\n    ];\n\n    row = shift(row);\n\n    for (let r = 0; r < rows; r++) {\n      gameField[r][c] = row[r];\n\n      const cell = document.getElementById(r.toString() + '-' + c.toString());\n      const num = gameField[r][c];\n\n      updateCell(cell, num);\n    }\n  }\n}\n\nfunction slideDown() {\n  for (let c = 0; c < columns; c++) {\n    let row = [\n      gameField[0][c],\n      gameField[1][c],\n      gameField[2][c],\n      gameField[3][c],\n    ];\n\n    row.reverse();\n    row = shift(row);\n    row.reverse();\n\n    for (let r = 0; r < rows; r++) {\n      gameField[r][c] = row[r];\n\n      const cell = document.getElementById(r.toString() + '-' + c.toString());\n      const num = gameField[r][c];\n\n      updateCell(cell, num);\n    }\n  }\n}\n\nfunction slideRight() {\n  for (let r = 0; r < rows; r++) {\n    let row = gameField[r];\n\n    row.reverse();\n    row = shift(row);\n    row.reverse();\n    gameField[r] = row;\n\n    for (let c = 0; c < columns; c++) {\n      const cell = document.getElementById(r.toString() + '-' + c.toString());\n      const num = gameField[r][c];\n\n      updateCell(cell, num);\n    }\n  }\n}\n\nfunction slideLeft() {\n  for (let r = 0; r < rows; r++) {\n    let row = gameField[r];\n\n    row = shift(row);\n    gameField[r] = row;\n\n    for (let c = 0; c < columns; c++) {\n      const cell = document.getElementById(r.toString() + '-' + c.toString());\n      const num = gameField[r][c];\n\n      updateCell(cell, num);\n    }\n  }\n}\n\n/* moving of game field */\nfunction shift(r) {\n  let row = filterZero(r);\n\n  for (let i = 0; i < row.length - 1; i++) {\n    if (row[i] === row[i + 1]) {\n      row[i] *= 2;\n      row[i + 1] = 0;\n      score += row[i];\n    }\n  }\n  row = filterZero(row);\n\n  while (row.length < columns) {\n    row.push(0);\n  }\n\n  return row;\n}\n\n/* changes game field after each moving */\nfunction updateCell(cell, num) {\n  cell.innerText = '';\n  cell.classList.value = '';\n  cell.classList.add('field-cell');\n\n  if (num > 0) {\n    cell.innerText = num;\n\n    if (num < cellScoreLimit) {\n      cell.classList.add('field-cell' + '--' + +num.toString());\n    } else {\n      cell.classList.add('field-cell--2048');\n      isWinner();\n    }\n  }\n}\n\nfunction filterZero(row) {\n  return row.filter((r) => r);\n}\n\n/* check game field for empty cells */\nfunction isEmptyCell() {\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < columns; c++) {\n      if (gameField[r][c] === 0) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n/* appear winner message */\nfunction isWinner() {\n  winMessage.classList.remove('hidden');\n}\n\n/* appear lose message */\nfunction isLose() {\n  loseMessage.classList.remove('hidden');\n}\n\n/* check possible of horizontal moving */\nfunction checkPossibleMovHorizontaly() {\n  for (let r = 0; r < rows; r++) {\n    for (let c = 0; c < columns; c++) {\n      if (gameField[r][c] === gameField[r][c + 1]) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n/* merging of two rows */\nfunction isMergingRow(r) {\n  const row = filterZero(r);\n\n  for (let i = 0; i < row.length - 1; i++) {\n    if (row[i] === row[i + 1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/* check possible of vertical moving */\nfunction checkPossibleMovVerticaly() {\n  const arr = [];\n  const result = [];\n\n  for (let c = 0; c < columns; c++) {\n    arr.push([\n      gameField[0][c],\n      gameField[1][c],\n      gameField[2][c],\n      gameField[3][c],\n    ]);\n  }\n\n  arr.forEach((b) => result.push(isMergingRow(b)));\n\n  return result.some((el) => el);\n}\n"],"names":["$f5e5effd96d66274$var$gameField","$f5e5effd96d66274$var$score","$f5e5effd96d66274$var$startButton","document","querySelector","$f5e5effd96d66274$var$messageStart","$f5e5effd96d66274$var$winMessage","$f5e5effd96d66274$var$loseMessage","$f5e5effd96d66274$var$gameScore","addEventListener","innerHTML","classList","add","$f5e5effd96d66274$var$resetGameField","$f5e5effd96d66274$var$newFieldGeneretion","remove","replace","innerText","e","code","$f5e5effd96d66274$var$slideLeft","$f5e5effd96d66274$var$slideRight","$f5e5effd96d66274$var$slideUp","$f5e5effd96d66274$var$slideDown","$f5e5effd96d66274$var$checkPossibleMovVerticaly","$f5e5effd96d66274$var$checkPossibleMovHorizontaly","$f5e5effd96d66274$var$isEmptyCell","$f5e5effd96d66274$var$isLose","$f5e5effd96d66274$var$touchStartX","$f5e5effd96d66274$var$touchStartY","$f5e5effd96d66274$var$touchEndX","$f5e5effd96d66274$var$touchEndY","r","Math","floor","random","c","newField","getElementById","toString","valueNum","cell","querySelectorAll","value","row","$f5e5effd96d66274$var$shift","$f5e5effd96d66274$var$updateCell","reverse","$f5e5effd96d66274$var$filterZero","i","length","push","num","filter","arr","result","forEach","b","$f5e5effd96d66274$var$isMergingRow","some","el","touches","clientX","clientY","diffX","diffY","abs"],"version":3,"file":"game_summatrix.0f55fb36.js.map"}